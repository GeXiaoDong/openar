!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(i(2)),r=n(i(3));e.ARView=a.default,e.ARDebugger=r.default,t.default={ARView:a.default,ARDebugger:r.default}}).call(t,i(1))},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t,this.renderer.autoClear=!1,this.sceneCamera=i,this.cameraOrientation=null,this.cameraMotion=null,this.scene=new THREE.Scene,this.camera=new THREE.OrthographicCamera(-1,1,1,-1),this.camera.position.z=1,this.init(),this.initListeners()}return n(e,[{key:"init",value:function(){var e=this;this.video=document.createElement("video"),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(function(t){e.video.src=window.URL.createObjectURL(t)}),this.videoTexture=new THREE.VideoTexture(this.video),this.videoTexture.minFilter=THREE.LinearFilter,this.videoTexture.magFilter=THREE.LinearFilter;var t=new THREE.SpriteMaterial({map:this.videoTexture});this.screen=new THREE.Sprite(t),this.screen.scale.set(2,2),this.scene.add(this.screen)}},{key:"initListeners",value:function(){window.addEventListener("deviceorientation",this.handleOrientation.bind(this)),window.addEventListener("devicemotion",this.handleMotion.bind(this))}},{key:"handleOrientation",value:function(e){if(null!==this.cameraOrientation){var t=e.alpha-this.cameraOrientation.alpha,i=e.beta-this.cameraOrientation.beta,n=e.gamma-this.cameraOrientation.gamma,a=Math.cos(t)*i+Math.sin(t)*n,r=Math.sin(t)*i+Math.cos(t)*n;this.sceneCamera.rotation.x+=a,this.sceneCamera.rotation.y+=r}this.cameraOrientation=e}},{key:"handleMotion",value:function(e){this.cameraMotion=e}},{key:"update",value:function(){this.renderer.clear(),this.renderer.render(this.scene,this.camera),this.renderer.clearDepth()}}]),e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.arView=t,this.init()}return n(e,[{key:"init",value:function(){this.debugWindow=document.createElement("div"),this.debugWindow.id="debug-window",this.debugWindow.style.position="fixed",this.debugWindow.style.bottom="0px",this.debugWindow.style.left="0px",this.debugWindow.style.color="white",this.debugWindow.style.backgroundColor="transparent",this.debugWindow.style.whiteSpace="pre",this.debugWindow.style.padding="10px",document.body.append(this.debugWindow)}},{key:"update",value:function(){null!==this.arView.cameraOrientation&&null!==this.arView.cameraMotion&&(this.debugWindow.innerHTML="alpha: "+this.arView.cameraOrientation.alpha+"\n",this.debugWindow.innerHTML+="beta: "+this.arView.cameraOrientation.beta+"\n",this.debugWindow.innerHTML+="gamma: "+this.arView.cameraOrientation.gamma+"\n",this.debugWindow.innerHTML+="acceleration.x: "+this.arView.cameraMotion.acceleration.x+"\n",this.debugWindow.innerHTML+="acceleration.y: "+this.arView.cameraMotion.acceleration.y+"\n",this.debugWindow.innerHTML+="acceleration.z: "+this.arView.cameraMotion.acceleration.z+"\n",this.debugWindow.innerHTML+="camera.rotation.x: "+this.arView.sceneCamera.rotation.x+"\n",this.debugWindow.innerHTML+="camera.rotation.y: "+this.arView.sceneCamera.rotation.y+"\n",this.debugWindow.innerHTML+="camera.rotation.z: "+this.arView.sceneCamera.rotation.z+"\n",this.debugWindow.innerHTML+="camera.position.x: "+this.arView.sceneCamera.position.x+"\n",this.debugWindow.innerHTML+="camera.position.y: "+this.arView.sceneCamera.position.y+"\n",this.debugWindow.innerHTML+="camera.position.z: "+this.arView.sceneCamera.position.z+"\n")}}]),e}();t.default=a}])});