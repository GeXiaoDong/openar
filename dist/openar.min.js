!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t,n){i(this,e),this.renderer=t,this.renderer.autoClear=!1,this.sceneCamera=n,this.cameraOrientation=null,this.scene=new THREE.Scene,this.camera=new THREE.OrthographicCamera(-1,1,1,-1),this.camera.position.z=1,this.init(),this.initListeners()}return n(e,[{key:"init",value:function(){var e=this;this.video=document.createElement("video"),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(function(t){e.video.src=window.URL.createObjectURL(t)}),this.videoTexture=new THREE.VideoTexture(this.video),this.videoTexture.minFilter=THREE.LinearFilter,this.videoTexture.magFilter=THREE.LinearFilter;var t=new THREE.SpriteMaterial({map:this.videoTexture});this.screen=new THREE.Sprite(t),this.screen.scale.set(2,2),this.scene.add(this.screen)}},{key:"initListeners",value:function(){window.addEventListener("deviceorientation",this.handleOrientation.bind(this))}},{key:"handleOrientation",value:function(e){var t=e.beta*Math.PI/180,i=e.gamma*Math.PI/180,n=e.alpha*Math.PI/180;if(null!==this.cameraOrientation){var r=t-this.cameraOrientation.x,a=i-this.cameraOrientation.y,o=n-this.cameraOrientation.z;this.sceneCamera.rotation.x+=r,this.sceneCamera.rotation.y+=a,this.sceneCamera.rotation.z+=o,this.cameraOrientation.x=t,this.cameraOrientation.y=i,this.cameraOrientation.z=n}else this.cameraOrientation={x:t,y:i,z:n}}},{key:"update",value:function(){this.renderer.clear(),this.renderer.render(this.scene,this.camera),this.renderer.clearDepth()}}]),e}();t.default=r,e.OpenAR=r}).call(t,i(1))},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i}])});