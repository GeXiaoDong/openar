!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2)),a=i(n(3));e.ARView=r.default,e.ARDebugger=a.default,t.default={ARView:r.default,ARDebugger:a.default}}).call(t,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t,n){i(this,e),this.renderer=t,this.renderer.autoClear=!1,this.sceneCamera=n,this.cameraOrientation=null,this.cameraMotion=null,this.scene=new THREE.Scene,this.camera=new THREE.OrthographicCamera(-1,1,1,-1),this.camera.position.z=1,this.init(),this.initListeners()}return r(e,[{key:"init",value:function(){var e=this;this.video=document.createElement("video"),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(function(t){e.video.src=window.URL.createObjectURL(t)}),this.videoTexture=new THREE.VideoTexture(this.video),this.videoTexture.minFilter=THREE.LinearFilter,this.videoTexture.magFilter=THREE.LinearFilter;var t=new THREE.SpriteMaterial({map:this.videoTexture});this.screen=new THREE.Sprite(t),this.screen.scale.set(2,2),this.scene.add(this.screen)}},{key:"initListeners",value:function(){window.addEventListener("deviceorientation",this.handleOrientation.bind(this)),window.addEventListener("devicemotion",this.handleMotion.bind(this))}},{key:"handleOrientation",value:function(e){if(null!==this.cameraOrientation){var t=(e.beta-this.cameraOrientation.beta)*Math.PI/180,n=(e.gamma-this.cameraOrientation.gamma)*Math.PI/180;this.sceneCamera.rotation.x+=t,this.sceneCamera.rotation.y+=n}this.cameraOrientation=e}},{key:"handleMotion",value:function(e){null!==this.cameraMotion&&(this.camera.translateX(Math.round(e.acceleration.x)/100),this.camera.translateY(Math.round(e.acceleration.y)/100),this.camera.translateZ(Math.round(e.acceleration.z)/100)),this.cameraMotion=e}},{key:"update",value:function(){this.renderer.clear(),this.renderer.render(this.scene,this.camera),this.renderer.clearDepth()}}]),e}();t.default=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t){i(this,e),this.arView=t,this.init()}return r(e,[{key:"init",value:function(){this.debugWindow=document.createElement("div"),this.debugWindow.id="debug-window",this.debugWindow.style.position="fixed",this.debugWindow.style.bottom="0px",this.debugWindow.style.left="0px",this.debugWindow.style.color="white",this.debugWindow.style.backgroundColor="black",this.debugWindow.style.whiteSpace="pre",this.debugWindow.style.padding="10px",document.body.append(this.debugWindow)}},{key:"update",value:function(){null!==this.arView.cameraOrientation&&null!==this.arView.cameraMotion&&(this.debugWindow.innerHTML="alpha: "+this.arView.cameraOrientation.alpha+"\n",this.debugWindow.innerHTML+="beta: "+this.arView.cameraOrientation.beta+"\n",this.debugWindow.innerHTML+="gamma: "+this.arView.cameraOrientation.gamma+"\n",this.debugWindow.innerHTML+="acceleration.x: "+Math.round(this.arView.cameraMotion.acceleration.x)+"\n",this.debugWindow.innerHTML+="acceleration.y: "+Math.round(this.arView.cameraMotion.acceleration.y)+"\n",this.debugWindow.innerHTML+="acceleration.z: "+Math.round(this.arView.cameraMotion.acceleration.z)+"\n")}}]),e}();t.default=a}])});